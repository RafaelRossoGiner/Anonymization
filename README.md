# Installation
## Docker Installation
For the docker installation you will need to have [Docker](https://www.docker.com/) installed on your machine. The desktop application includes the virtualization engine and the docker-compose module which are needed for this project.

### Build and launch the docker
Once we have completed the Docker installation, follow these steps to launch the application.
  - Download the [latest docker release](https://github.com/RafaelRossoGiner/Anonymization/releases/latest) and extract its contents.
  - From the root folder execute ```docker-compose build```.
  - From the Docker Desktop application you will see the new container and the option to launch it.
    - Alternatively, you can also run the service by executing ```docker-compose up -d```.


## Manual Installation
For manual installation of the service, only the contents of "FlaskApp" and "requirements.txt" are needed.

### Prerequisites
Before you start the application setup, you must complete the following steps. You can use a different database engine or WSGI server as long as they are compatible and you modify the configuration file accordingly. However, this guide will cover an example using MariaDB and Gunicorn.
  - [Python 3.7.8](https://www.python.org/downloads/release/python-378/) is installed. A virtual environment is recommended but not needed.
  - [MariaDB](https://mariadb.com/downloads/) server is installed. The recommended version is 11.1.2 and can be installed on the local machine or a remote server.
  - The machine executing the application will need access to the corresponding [MariaDB Connector/C](https://dlm.mariadb.com/browse/c_connector/201/1862/) according to the MariaDB version selected.
    - This software is usually already distributed with the MariaDB server package, under the development tools. If not, it can be obtained from the link above.
  - [Gunicorn 21.2.0](https://gunicorn.org/).

### Application setup
Once we have completed the prerequisites, follow these steps to launch the application.
  - Log in to the database service, then create a new database and user. The user should have permission to access, create, delete and modify tables within the new database.
  - Modify the ```Config.py``` file situated in the FlaskApp folder. You will need to adapt the "DataBaseURI" parameter to your needs according to the [SQLAlchemy documentation](https://docs.sqlalchemy.org/en/20/core/engines.html#backend-specific-urls).
    - For MariaDB, the format is ```mariadb+mariadbconnector://<user>:<user_password>@<host>:<port>/<database_name>```
  - Execute the Gunicorn server and point to the application object inside the ```app.py``` file.
    - For example, if you are located in the FlaskApp folder, the command would be: ```gunicorn --bind 0.0.0.0:8080 --reload app:application```
    - Alternatively, and just for debugging purposes, you can execute the ```main.py``` file with Python. Which will launch a debug WSGI server generated by Flask.
      - This should never be used in production.
